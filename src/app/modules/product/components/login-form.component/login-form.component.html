<div class="login-container" *ngIf="isVisible">
  <h2>游댏 Iniciar Sesi칩n</h2>

  <form (ngSubmit)="login()">
    <div class="form-group">
      <label for="username">Usuario:</label>
      <input id="username" type="text" [(ngModel)]="credentials.username" name="username"
        placeholder="Ingresa tu usuario" required autocomplete="username">
    </div>

    <div class="form-group">
      <label for="password">Contrase침a:</label>
      <input id="password" type="password" [(ngModel)]="credentials.password" name="password"
        placeholder="Ingresa tu contrase침a" required autocomplete="current-password">
    </div>

    <button type="submit" [disabled]="loading">
      <span *ngIf="loading" class="loading-spinner"></span>
      {{ loading ? 'Iniciando sesi칩n...' : 'Ingresar al sistema' }}
    </button>

    <div *ngIf="error" class="error-message">
      丘멆잺 {{ error }}
    </div>
  </form>
</div>

<!-- Cambiar el evento (completed) por (completed)="onGenericUserCompleted()" -->
<app-new-user 
  *ngIf="newUserFormIsVisible" 
  (completed)="onGenericUserCompleted()" 
  [isVisible]="newUserFormIsVisible"
  [username]="credentials.username">
</app-new-user>